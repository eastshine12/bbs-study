DROP TABLE MEMBER
CASCADE CONSTRAINTS;


CREATE TABLE MEMBER(
	ID VARCHAR2(50) PRIMARY KEY,
	PWD VARCHAR2(50) NOT NULL,
	NAME VARCHAR2(50) NOT NULL,
	EMAIL VARCHAR2(50) UNIQUE,
	AUTH NUMBER(1) NOT NULL
);


SELECT ID
FROM MEMBER
WHERE ID = 'hello';

SELECT ID, PWD
FROM MEMBER;


DROP TABLE BBS
CASCADE CONSTRAINTS;

DROP SEQUENCE SEQ_BBS;


CREATE TABLE BBS(
	SEQ NUMBER(8) PRIMARY KEY,
	ID VARCHAR2(50) NOT NULL,		-- 작성자
	
	REF NUMBER(8) NOT NULL,			-- 답변을 설정 (REF = SEQ)
	STEP NUMBER(8) NOT NULL,		
	DEPTH NUMBER(8) NOT NULL,
	
	TITLE VARCHAR2(200) NOT NULL,
	CONTENT VARCHAR2(4000) NOT NULL,
	WDATE DATE NOT NULL,
	
	DEL NUMBER(1) NOT NULL,			-- 삭제
	READCOUNT NUMBER(8) NOT NULL	-- 조회수
);


CREATE SEQUENCE SEQ_BBS
START WITH 1
INCREMENT BY 1;

ALTER TABLE BBS
ADD CONSTRAINT FK_BBS_ID FOREIGN KEY(ID)
REFERENCES MEMBER(ID);



SELECT *
FROM BBS;

DELETE
FROM BBS
WHERE ID='hello';


SELECT *
FROM BBS
WHERE SEQ = 1;


UPDATE BBS
SET TITLE = '반갑습니다~~~',
	CONTENT = '잘부탁드려요!!!!!!!'
WHERE SEQ = 2;


SELECT SEQ, ID, REF, STEP, DEPTH,
TITLE, CONTENT, WDATE,
DEL, READCOUNT
FROM BBS
WHERE DEL = 0 AND  TITLE LIKE '%답%'
ORDER BY REF DESC, STEP ASC

SELECT *
FROM BBS
WHERE DEL = 0 AND
TITLE LIKE '%잘%'
ORDER BY REF DESC, STEP ASC


